[tox]
envlist = py37,flake8

[testenv]
deps =
    psutil==5.4.8
    pytest{env:PYTEST_VERSION:>=4.0}
    pytest-cov==2.5.1
    pytest-mock==1.6.3
    werkzeug==0.12.2
commands =
    py.test tests/ \
            -s -vv \
            -p no:pytest-conquer -p pytester \
            --cov=./ \
            {posargs}

[flake8]
exclude = testandconquer/vendor,.tox
ignore = E501

[testenv:flake8]
deps =
    flake8==3.6.0
    flake8-commas==2.0.0
    flake8-quotes==0.12.1
    pep8-naming==0.7.0
commands =
    flake8
